<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>#kimchi log</title>
<style type="text/css">
/* For the .log.html */
pre { /*line-height: 125%;*/
      white-space: pre-wrap; }
body { background: #f0f0f0; }

body .tm  { color: #007020 }                      /* time */
body .nk  { color: #062873; font-weight: bold }   /* nick, regular */
body .nka { color: #007020; font-weight: bold }  /* action nick */
body .ac  { color: #00A000 }                      /* action line */
body .hi  { color: #4070a0 }                 /* hilights */
/* Things to make particular MeetBot commands stick out */
body .topic     { color: #007020; font-weight: bold }
body .topicline { color: #000080; font-weight: bold }
body .cmd       { color: #007020; font-weight: bold }
body .cmdline  { font-weight: bold }

</style>
</head>

<body>
<pre><a name="l-1"></a><span class="tm">13:01:44</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#startmeeting</span><span class="cmdline"></span>
<a name="l-2"></a><span class="tm">13:01:44</span><span class="nk"> &lt;kimchi-bot&gt;</span> Meeting started Wed Jul 17 13:01:44 2013 UTC.  The chair is aglitke. Information about MeetBot at http://wiki.debian.org/MeetBot.
<a name="l-3"></a><span class="tm">13:01:44</span><span class="nk"> &lt;kimchi-bot&gt;</span> Useful Commands: #action #agreed #help #info #idea #link #topic.
<a name="l-4"></a><span class="tm">13:01:50</span><span class="nk"> &lt;zhoumeina&gt;</span> Hi all
<a name="l-5"></a><span class="tm">13:01:54</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#meetingname </span><span class="cmdline">scrum</span>
<a name="l-6"></a><span class="tm">13:01:54</span><span class="nk"> &lt;kimchi-bot&gt;</span> The meeting name has been set to 'scrum'
<a name="l-7"></a><span class="tm">13:02:13</span><span class="nk"> &lt;hlwanghl&gt;</span> Not kimchi-scrum?
<a name="l-8"></a><span class="tm">13:02:50</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">hlwanghl:</span> :)
<a name="l-9"></a><span class="tm">13:02:51</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#info </span><span class="cmdline">Agenda: * Build process * Open issues * ISO Scanning * Round table</span>
<a name="l-10"></a><span class="tm">13:02:59</span><span class="nk"> &lt;aglitke&gt;</span> Who has other topics?
<a name="l-11"></a><span class="tm">13:03:17</span><span class="nk"> &lt;shaohef&gt;</span> template update?
<a name="l-12"></a><span class="tm">13:03:24</span><span class="nk"> &lt;sming&gt;</span> <span class="cmd">#info </span><span class="cmdline">customer trip</span>
<a name="l-13"></a><span class="tm">13:03:25</span><span class="nk"> &lt;hlwanghl&gt;</span> +1
<a name="l-14"></a><span class="tm">13:03:34</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">hlwanghl:</span> The only meetings held in #kimchi are for kimchi, so that would be redundant in the meeting name.
<a name="l-15"></a><span class="tm">13:03:45</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">aglitke:</span> OK :-)
<a name="l-16"></a><span class="tm">13:03:50</span><span class="nk"> &lt;shaohef&gt;</span> <span class="cmd">#info  </span><span class="cmdline">template update</span>
<a name="l-17"></a><span class="tm">13:03:55</span><span class="nk"> &lt;aglitke&gt;</span> ok
<a name="l-18"></a><span class="tm">13:04:02</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> Anything from your end?
<a name="l-19"></a><span class="tm">13:04:30</span><span class="nk"> &lt;hlwanghl&gt;</span> Mobile support
<a name="l-20"></a><span class="tm">13:04:31</span><span class="nk"> &lt;royce&gt;</span> Maybe IE support should be covered?
<a name="l-21"></a><span class="tm">13:04:40</span><span class="nk"> &lt;shaohef&gt;</span> <span class="cmd">#info </span><span class="cmdline">i18n  for  customer trip</span>
<a name="l-22"></a><span class="tm">13:04:40</span><span class="nk"> &lt;zhoumeina&gt;</span> where is AdamKingIT?
<a name="l-23"></a><span class="tm">13:05:08</span><span class="nk"> &lt;AdamKingIT&gt;</span> sorry, on the other mtg I usually have at this hour. ill be more engaged when I get done
<a name="l-24"></a><span class="tm">13:05:24</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> Any other topics to add from you?
<a name="l-25"></a><span class="tm">13:05:37</span><span class="nk"> &lt;aglitke&gt;</span> we can add them at the end of the agenda
<a name="l-26"></a><span class="tm">13:06:15</span><span class="nk"> &lt;aglitke&gt;</span> Ok.  let's get started.
<a name="l-27"></a><span class="tm">13:06:17</span><span class="nk"> &lt;shaohef&gt;</span> <span class="cmd">#info </span><span class="cmdline">cache? AdamKingIT</span>
<a name="l-28"></a><span class="tm">13:06:33</span><span class="nk"> &lt;aglitke&gt;</span> <span class="topic">#topic </span><span class="topicline">Open Issues</span>
<a name="l-29"></a><span class="tm">13:07:06</span><span class="nk"> &lt;aglitke&gt;</span> Thanks to everyone for your hard work on bugs.  It's really making a positive impact.
<a name="l-30"></a><span class="tm">13:07:15</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, you can close this one: https://github.com/kimchi-project/kimchi/issues/28
<a name="l-31"></a><span class="tm">13:07:15</span><span class="nk"> &lt;zhoumeina&gt;</span> <span class="cmd">#info </span><span class="cmdline">I have 5 issues ,3 of them send patchs ,2 left.</span>
<a name="l-32"></a><span class="tm">13:07:19</span><span class="nk"> &lt;alinefm&gt;</span> it is already fixed and merged
<a name="l-33"></a><span class="tm">13:07:22</span><span class="nk"> &lt;aglitke&gt;</span> Also, I appreciate you filing new issues as you discover them.
<a name="l-34"></a><span class="tm">13:07:34</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">alinefm:</span> thanks.
<a name="l-35"></a><span class="tm">13:07:42</span><span class="nk"> &lt;aglitke&gt;</span> I was going to ask about which can be closed.
<a name="l-36"></a><span class="tm">13:08:02</span><span class="nk"> &lt;aglitke&gt;</span> Right now only maintainers can close issues but I am working on a way to resolve that.
<a name="l-37"></a><span class="tm">13:08:32</span><span class="nk"> &lt;zhoumeina&gt;</span> <span class="hi">aglitke:</span> yes ,I think it will be better
<a name="l-38"></a><span class="tm">13:08:50</span><span class="nk"> &lt;royce&gt;</span> We can have a fake maintainer with close issue rights only:)
<a name="l-39"></a><span class="tm">13:08:53</span><span class="nk"> &lt;aglitke&gt;</span> Feel free to contact me by email directly later if you have issues for me to close.
<a name="l-40"></a><span class="tm">13:09:11</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> The permissions are not that granular
<a name="l-41"></a><span class="tm">13:09:22</span><span class="nk"> &lt;aglitke&gt;</span> You can basically have admin or not
<a name="l-42"></a><span class="tm">13:09:48</span><span class="nk"> &lt;royce&gt;</span> alright...
<a name="l-43"></a><span class="tm">13:10:03</span><span class="nk"> &lt;aglitke&gt;</span> <span class="topic">#topic </span><span class="topicline">template update</span>
<a name="l-44"></a><span class="tm">13:10:08</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Please go ahead.
<a name="l-45"></a><span class="tm">13:10:15</span><span class="nk"> &lt;zhoumeina&gt;</span> <span class="cmd">#32can </span><span class="cmdline">be closes</span>
<a name="l-46"></a><span class="tm">13:11:35</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span>  yes. we should need a template update
<a name="l-47"></a><span class="tm">13:11:43</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> also we need vm update
<a name="l-48"></a><span class="tm">13:12:05</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">shaohef:</span> your update template patches already reviewed, right?
<a name="l-49"></a><span class="tm">13:12:20</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> I think, we need a general PUT method for update
<a name="l-50"></a><span class="tm">13:12:25</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">hlwanghl:</span> yes.
<a name="l-51"></a><span class="tm">13:12:37</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">hlwanghl:</span> I resend the patch.
<a name="l-52"></a><span class="tm">13:12:47</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Yes, I agree.  We need a way for each resource to declare the fields which can be updated.
<a name="l-53"></a><span class="tm">13:12:50</span><span class="nk"> &lt;sming&gt;</span> sahohef:+1 user can update the memory of a VM when more memory is needed.
<a name="l-54"></a><span class="tm">13:13:17</span><span class="nk"> &lt;aglitke&gt;</span> if a user specifies a field which cannot be updated then we must deny the whole request with 405
<a name="l-55"></a><span class="tm">13:13:42</span><span class="nk"> &lt;aglitke&gt;</span> we need to be careful about this because updates can be tricky.
<a name="l-56"></a><span class="tm">13:14:04</span><span class="nk"> &lt;AdamKingIT&gt;</span> We may consider what update granularity we want to authorize for...
<a name="l-57"></a><span class="tm">13:14:13</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> agree.
<a name="l-58"></a><span class="tm">13:14:15</span><span class="nk"> &lt;aglitke&gt;</span> when you reduce the memory amount what does it mean? balloon? or redefine the VM and changes will take place on next reboot?
<a name="l-59"></a><span class="tm">13:14:28</span><span class="nk"> &lt;AdamKingIT&gt;</span> Giving a user the auth to update their VMname is one thing, letting them take all the memory is another
<a name="l-60"></a><span class="tm">13:14:36</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">AdamKingIT:</span> agree
<a name="l-61"></a><span class="tm">13:15:05</span><span class="nk"> &lt;royce&gt;</span> I think we are talking about static config update, isn't it? aglitke
<a name="l-62"></a><span class="tm">13:15:06</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">aglitje:</span> I think it is redefing the VM and changes will take place on next reboot.
<a name="l-63"></a><span class="tm">13:15:12</span><span class="nk"> &lt;aglitke&gt;</span> I have never been a big fan of the PUT method
<a name="l-64"></a><span class="tm">13:15:21</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">sming:</span> I agree.
<a name="l-65"></a><span class="tm">13:15:30</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> about the name for update. should we allow modify the name of resource?
<a name="l-66"></a><span class="tm">13:15:41</span><span class="nk"> &lt;hlwanghl&gt;</span> Only do the updating when VM is stopped.
<a name="l-67"></a><span class="tm">13:15:53</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Yes, I think name is fine.
<a name="l-68"></a><span class="tm">13:16:09</span><span class="nk"> &lt;AdamKingIT&gt;</span> Do we have room for a comment or notes field?
<a name="l-69"></a><span class="tm">13:16:10</span><span class="nk"> &lt;royce&gt;</span> I've already sent patches about vm rename
<a name="l-70"></a><span class="tm">13:16:11</span><span class="nk"> &lt;aglitke&gt;</span> Templates can allow all fields to be updates.
<a name="l-71"></a><span class="tm">13:16:16</span><span class="nk"> &lt;aglitke&gt;</span> updated/
<a name="l-72"></a><span class="tm">13:16:19</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> but the URL will change
<a name="l-73"></a><span class="tm">13:16:41</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Yes, that is why a redirect happens after a put request.
<a name="l-74"></a><span class="tm">13:16:48</span><span class="nk"> &lt;zhoumeina&gt;</span> if the vm fields changed, so the template will changed too?
<a name="l-75"></a><span class="tm">13:17:05</span><span class="nk"> &lt;royce&gt;</span> zhoumeina, I don't think so...
<a name="l-76"></a><span class="tm">13:17:16</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> yes, it will change permanently
<a name="l-77"></a><span class="tm">13:17:16</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">zhoumeina:</span> No.  Once a VM is created from a template, the vm no longer has any relationship with the template.
<a name="l-78"></a><span class="tm">13:17:26</span><span class="nk"> &lt;zhoumeina&gt;</span> ok
<a name="l-79"></a><span class="tm">13:17:47</span><span class="nk"> &lt;zhoumeina&gt;</span> so they are seperate
<a name="l-80"></a><span class="tm">13:18:14</span><span class="nk"> &lt;zhoumeina&gt;</span> got it , go ahead all
<a name="l-81"></a><span class="tm">13:18:23</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> First I would like to see a generic design in the Resource class that allows child clases to declare the changeable fields
<a name="l-82"></a><span class="tm">13:18:37</span><span class="nk"> &lt;AdamKingIT&gt;</span> I would think of the template as a cookie cutter. Once you cut the cookie out of the dough, you can reshape it w. your fingers without affecting the shape of the cutter
<a name="l-83"></a><span class="tm">13:18:47</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> yep
<a name="l-84"></a><span class="tm">13:19:05</span><span class="nk"> &lt;aglitke&gt;</span> and if you reshape the cutter, the already cut cookies wont change either.
<a name="l-85"></a><span class="tm">13:19:27</span><span class="nk"> &lt;AdamKingIT&gt;</span> yep
<a name="l-86"></a><span class="tm">13:19:36</span><span class="nk"> &lt;zhoumeina&gt;</span> great , very clear
<a name="l-87"></a><span class="tm">13:19:37</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">AdamKingIT:</span> not sure what is cookie cutter.
<a name="l-88"></a><span class="tm">13:19:42</span><span class="nk"> &lt;royce&gt;</span> good metaphor:)
<a name="l-89"></a><span class="tm">13:19:51</span><span class="nk"> &lt;AdamKingIT&gt;</span> let me find a pic
<a name="l-90"></a><span class="tm">13:20:21</span><span class="nk"> &lt;AdamKingIT&gt;</span> https://en.wikipedia.org/wiki/Cookie_cutter
<a name="l-91"></a><span class="tm">13:20:22</span><span class="nk"> &lt;hlwanghl&gt;</span> I guess, it's a tool to shape cookie
<a name="l-92"></a><span class="tm">13:20:32</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">AdamKingIT:</span> Got it.
<a name="l-93"></a><span class="tm">13:20:46</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> For the design, the backend will be called with the dict of new values only if all values are allowed to be changed.
<a name="l-94"></a><span class="tm">13:20:49</span><span class="nk"> &lt;zhoumeina&gt;</span> can
<a name="l-95"></a><span class="tm">13:21:08</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> agree
<a name="l-96"></a><span class="tm">13:21:40</span><span class="nk"> &lt;aglitke&gt;</span> the backend will then make the requested changes and then return the identifier of the resource (since it may or may not have changed).
<a name="l-97"></a><span class="tm">13:21:49</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">aglitke:</span> It's a validation step. Both server- and client-side need it.
<a name="l-98"></a><span class="tm">13:22:11</span><span class="nk"> &lt;hlwanghl&gt;</span> We can think it together for backend and frontend.
<a name="l-99"></a><span class="tm">13:22:28</span><span class="nk"> &lt;zhoumeina&gt;</span> yeah, I want to join too
<a name="l-100"></a><span class="tm">13:22:41</span><span class="nk"> &lt;aglitke&gt;</span> ok
<a name="l-101"></a><span class="tm">13:22:51</span><span class="nk"> &lt;royce&gt;</span> aglitke, I'm little bit worried when fields become a lot, the dict in resource are difficult to maintain, and we may need to validate the field
<a name="l-102"></a><span class="tm">13:22:54</span><span class="nk"> &lt;aglitke&gt;</span> are we good on that topic.
<a name="l-103"></a><span class="tm">13:22:58</span><span class="nk"> &lt;AdamKingIT&gt;</span> As we get to authorization checks, I'd rather not let the user enter data that the backend isn't going to accept from them
<a name="l-104"></a><span class="tm">13:23:20</span><span class="nk"> &lt;hlwanghl&gt;</span> Make the dict be easy to convert to JSON should be helpful
<a name="l-105"></a><span class="tm">13:23:27</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> how about the authority on the change fieldsï¼Ÿ
<a name="l-106"></a><span class="tm">13:23:33</span><span class="nk"> &lt;aglitke&gt;</span> yes, always json
<a name="l-107"></a><span class="tm">13:23:51</span><span class="nk"> &lt;hlwanghl&gt;</span> cool
<a name="l-108"></a><span class="tm">13:23:51</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Right now, any authenticated user can change anything.
<a name="l-109"></a><span class="tm">13:24:20</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> got it
<a name="l-110"></a><span class="tm">13:24:28</span><span class="nk"> &lt;AdamKingIT&gt;</span> at present that is true, but we don't want it to always be true. Trying to think ahead a little
<a name="l-111"></a><span class="tm">13:24:30</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">shaohef:</span> Authority is another topic.
<a name="l-112"></a><span class="tm">13:24:56</span><span class="nk"> &lt;hlwanghl&gt;</span> Should map users/roles to resources, etc.
<a name="l-113"></a><span class="tm">13:25:17</span><span class="nk"> &lt;aglitke&gt;</span> yeah... Not ready for that discussion right now.
<a name="l-114"></a><span class="tm">13:25:21</span><span class="nk"> &lt;AdamKingIT&gt;</span> y. Will get interesting as we try to define granularity on those resources
<a name="l-115"></a><span class="tm">13:25:41</span><span class="nk"> &lt;aglitke&gt;</span> can we shift gears to another topic now?
<a name="l-116"></a><span class="tm">13:25:51</span><span class="nk"> &lt;zhoumeina&gt;</span> OK
<a name="l-117"></a><span class="tm">13:25:54</span><span class="nk"> &lt;aglitke&gt;</span> Now that AdamKingIT is here I want to discuss the build process
<a name="l-118"></a><span class="tm">13:25:57</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">aglitke:</span> please
<a name="l-119"></a><span class="tm">13:26:02</span><span class="nk"> &lt;aglitke&gt;</span> <span class="topic">#topic </span><span class="topicline">Build process</span>
<a name="l-120"></a><span class="tm">13:26:31</span><span class="nk"> &lt;aglitke&gt;</span> I have been working hard on revamping the build system in kimchi to make it uniform and standard
<a name="l-121"></a><span class="tm">13:26:46</span><span class="nk"> &lt;aglitke&gt;</span> The first patch set I sent had some issues and todos
<a name="l-122"></a><span class="tm">13:26:56</span><span class="nk"> &lt;aglitke&gt;</span> The next one will be much better.
<a name="l-123"></a><span class="tm">13:27:20</span><span class="nk"> &lt;aglitke&gt;</span> But I would first like to see if anyone has any concerns with adopting an autotools based build
<a name="l-124"></a><span class="tm">13:27:22</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> the patch is too huge.
<a name="l-125"></a><span class="tm">13:27:40</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> It is a lot of boiler-plate generated code.
<a name="l-126"></a><span class="tm">13:27:49</span><span class="nk"> &lt;aglitke&gt;</span> I can try to break it up better for final submission.
<a name="l-127"></a><span class="tm">13:27:53</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> split it?
<a name="l-128"></a><span class="tm">13:27:58</span><span class="nk"> &lt;aglitke&gt;</span> But there will be a lot of code imported.
<a name="l-129"></a><span class="tm">13:28:05</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> Yes, not a problem.
<a name="l-130"></a><span class="tm">13:28:06</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> that's fine.
<a name="l-131"></a><span class="tm">13:28:23</span><span class="nk"> &lt;AdamKingIT&gt;</span> If you would indulge my ignorance. Can you describe advantages/disadvantages?
<a name="l-132"></a><span class="tm">13:28:45</span><span class="nk"> &lt;aglitke&gt;</span> Advantages of autotools build is automatic discovery of dependencies in the build.
<a name="l-133"></a><span class="tm">13:28:57</span><span class="nk"> &lt;aglitke&gt;</span> ./configure can give you an error if your cherrypy is too old
<a name="l-134"></a><span class="tm">13:29:07</span><span class="nk"> &lt;aglitke&gt;</span> etc/
<a name="l-135"></a><span class="tm">13:29:08</span><span class="nk"> &lt;aglitke&gt;</span> ...
<a name="l-136"></a><span class="tm">13:29:13</span><span class="nk"> &lt;royce&gt;</span> AdamKingIT, I think it can handle different build env easily
<a name="l-137"></a><span class="tm">13:29:15</span><span class="nk"> &lt;aglitke&gt;</span> Another + is:
<a name="l-138"></a><span class="tm">13:29:25</span><span class="nk"> &lt;aglitke&gt;</span> ./configure &amp;&amp; make &amp;&amp; make install
<a name="l-139"></a><span class="tm">13:29:30</span><span class="nk"> &lt;aglitke&gt;</span> a standard build
<a name="l-140"></a><span class="tm">13:29:31</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span>   setup.py also can automatic discovery of dependencies
<a name="l-141"></a><span class="tm">13:29:46</span><span class="nk"> &lt;aglitke&gt;</span> instead of the distutils build + some Makefiles for generating packages.
<a name="l-142"></a><span class="tm">13:30:14</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> ./configure &amp;&amp; make &amp;&amp; make install,   GNU standard build?
<a name="l-143"></a><span class="tm">13:30:15</span><span class="nk"> &lt;aglitke&gt;</span> Also, trying to write python code for dependency tracking seems strange when there is a tool that does it natively.
<a name="l-144"></a><span class="tm">13:30:23</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, will we still use makefiles to create rpm/deb packages or not?
<a name="l-145"></a><span class="tm">13:30:26</span><span class="nk"> &lt;aglitke&gt;</span> make knows when things need to be rebuilt or cleaned.
<a name="l-146"></a><span class="tm">13:30:47</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">alinefm:</span> That is a different topic that I want to address separately.
<a name="l-147"></a><span class="tm">13:30:56</span><span class="nk"> &lt;alinefm&gt;</span> ok
<a name="l-148"></a><span class="tm">13:30:57</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">alinefm:</span>  we need automake? aglitke, right?
<a name="l-149"></a><span class="tm">13:30:57</span><span class="nk"> &lt;aglitke&gt;</span> right after this.
<a name="l-150"></a><span class="tm">13:31:04</span><span class="nk"> &lt;aglitke&gt;</span> yes
<a name="l-151"></a><span class="tm">13:31:44</span><span class="nk"> &lt;AdamKingIT&gt;</span> disadvantages?
<a name="l-152"></a><span class="tm">13:31:45</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span>  what can I help for the autotools?
<a name="l-153"></a><span class="tm">13:32:00</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> Another advantage is that autotools-enabled projects have standardized make rules that can be useful
<a name="l-154"></a><span class="tm">13:32:14</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> eg. make dist
<a name="l-155"></a><span class="tm">13:32:25</span><span class="nk"> &lt;aglitke&gt;</span> and it has builtin gettext support
<a name="l-156"></a><span class="tm">13:32:42</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">disadvantages:</span> another build system to learn
<a name="l-157"></a><span class="tm">13:32:53</span><span class="nk"> &lt;aglitke&gt;</span> can be more complex than distutils
<a name="l-158"></a><span class="tm">13:33:23</span><span class="nk"> &lt;royce&gt;</span> I have done mom autobuild system, I can help if you need~
<a name="l-159"></a><span class="tm">13:33:27</span><span class="nk"> &lt;aglitke&gt;</span> those are the main ones I can think of./
<a name="l-160"></a><span class="tm">13:33:46</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">AdamKingIT:</span>  I think one of the advantages is the makefile and ./configure files generated are quite complex and hard to understand.
<a name="l-161"></a><span class="tm">13:33:47</span><span class="nk"> &lt;aglitke&gt;</span> yep, we have some experience with it/
<a name="l-162"></a><span class="tm">13:33:56</span><span class="nk"> &lt;aglitke&gt;</span> Many other example projects that use it.
<a name="l-163"></a><span class="tm">13:34:19</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">sming:</span> you should only read configure.ac and Makefile.am
<a name="l-164"></a><span class="tm">13:34:29</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> I have learned the autotools, autoconf and automake.  :)
<a name="l-165"></a><span class="tm">13:34:31</span><span class="nk"> &lt;aglitke&gt;</span> the Makefile.in and Makefile files are considered output files.
<a name="l-166"></a><span class="tm">13:34:42</span><span class="nk"> &lt;aglitke&gt;</span> they are not meant to be read
<a name="l-167"></a><span class="tm">13:35:04</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">aglitke:</span> Sometimes, I need read the final files to understand the errors.
<a name="l-168"></a><span class="tm">13:35:14</span><span class="nk"> &lt;AdamKingIT&gt;</span> Sorry to have to ask. I have a lot of recent experience with Ant (and derivatives) but haven't used make in this millenium
<a name="l-169"></a><span class="tm">13:35:33</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> sming: AdamKingIT: also, a lot of macro, we should to learn
<a name="l-170"></a><span class="tm">13:35:56</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">shaohef:</span> We may be able to avoid writing our own m4 macros
<a name="l-171"></a><span class="tm">13:36:09</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> No worries, what is your question about make?
<a name="l-172"></a><span class="tm">13:36:23</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">sming:</span> yes. we need to read the final files some times.
<a name="l-173"></a><span class="tm">13:37:17</span><span class="nk"> &lt;AdamKingIT&gt;</span> I guess I would summarize the proposal as advantage: allow more developers can contribute/build without making adjustments to t heir env. disadvantage: anyone needing to make build updates will face a higher hurdle
<a name="l-174"></a><span class="tm">13:37:32</span><span class="nk"> &lt;AdamKingIT&gt;</span> fair?
<a name="l-175"></a><span class="tm">13:38:17</span><span class="nk"> &lt;aglitke&gt;</span> Yeah, I'd say so.  Once the infrastructure is in place, it's pretty easy to understand how to modify the Makefile.am files for common tasks.
<a name="l-176"></a><span class="tm">13:38:38</span><span class="nk"> &lt;aglitke&gt;</span> usually we are just adding a new file to the system
<a name="l-177"></a><span class="tm">13:38:42</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">AdamKingIT:</span> another advantage is it is platform-independent.
<a name="l-178"></a><span class="tm">13:38:52</span><span class="nk"> &lt;AdamKingIT&gt;</span> k. Seems like an easy decision
<a name="l-179"></a><span class="tm">13:39:21</span><span class="nk"> &lt;aglitke&gt;</span> I will keep plugging away at these patches and try to break them up a bit.
<a name="l-180"></a><span class="tm">13:39:27</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">sming:</span> platform-independant?
<a name="l-181"></a><span class="tm">13:39:48</span><span class="nk"> &lt;aglitke&gt;</span> Then, just like coding style patches. when they go in it is a bit disruptive at first.
<a name="l-182"></a><span class="tm">13:40:05</span><span class="nk"> &lt;aglitke&gt;</span> People may experience some issues with building or rebasing patches, etc.
<a name="l-183"></a><span class="tm">13:40:44</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">alinefm:</span> I would like to talk about packaging.
<a name="l-184"></a><span class="tm">13:40:48</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">hlwanghl:</span> Yes, you can use the same .ac, .am files to generate makefiles in different Linux/Unix distos.
<a name="l-185"></a><span class="tm">13:40:55</span><span class="nk"> &lt;royce&gt;</span> hlwanghl, I think sming means it can compatible with multiple linux distro.
<a name="l-186"></a><span class="tm">13:41:16</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, sure
<a name="l-187"></a><span class="tm">13:41:19</span><span class="nk"> &lt;aglitke&gt;</span> For mature projects, the packaging artifacts are not stored in the upstream package
<a name="l-188"></a><span class="tm">13:41:23</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">royce:</span> sming: OK :)
<a name="l-189"></a><span class="tm">13:41:40</span><span class="nk"> &lt;aglitke&gt;</span> ie. for mom, the spec file we use for fedora is maintained in a fedora-specific git repo
<a name="l-190"></a><span class="tm">13:41:56</span><span class="nk"> &lt;aglitke&gt;</span> I believe the same holds true for debian/ubuntu.
<a name="l-191"></a><span class="tm">13:42:08</span><span class="nk"> &lt;aglitke&gt;</span> We are not a mature project _yet_.
<a name="l-192"></a><span class="tm">13:42:36</span><span class="nk"> &lt;aglitke&gt;</span> In this situation, I believe we should place all of the platform/packaging files in a contrib directory
<a name="l-193"></a><span class="tm">13:42:50</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> we just generate the tar ball without the rpm or deb package?
<a name="l-194"></a><span class="tm">13:42:56</span><span class="nk"> &lt;aglitke&gt;</span> I think we should split the spec file into a redhat file and a suse file
<a name="l-195"></a><span class="tm">13:43:24</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">aglitke:</span> creating another contrib directory under Kimchi?
<a name="l-196"></a><span class="tm">13:43:28</span><span class="nk"> &lt;aglitke&gt;</span> for rpm building here is how the process should work.
<a name="l-197"></a><span class="tm">13:43:39</span><span class="nk"> &lt;aglitke&gt;</span> ./configure &amp;&amp; make dist
<a name="l-198"></a><span class="tm">13:43:47</span><span class="nk"> &lt;aglitke&gt;</span> this generates a tarball of the current code.
<a name="l-199"></a><span class="tm">13:43:57</span><span class="nk"> &lt;aglitke&gt;</span> copy tarball to ~/rpmbuild/SOURCES
<a name="l-200"></a><span class="tm">13:44:17</span><span class="nk"> &lt;aglitke&gt;</span> copy contrib/kimchi-redhat.spec to ~/rpmbuild/SPEC
<a name="l-201"></a><span class="tm">13:44:32</span><span class="nk"> &lt;aglitke&gt;</span> rpmbuild -ba ~/rpmbuild/SPEC/kimchi.spec
<a name="l-202"></a><span class="tm">13:44:44</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, those steps will be manual?
<a name="l-203"></a><span class="tm">13:44:46</span><span class="nk"> &lt;aglitke&gt;</span> this is how kimchi will be made in fedora
<a name="l-204"></a><span class="tm">13:45:11</span><span class="nk"> &lt;aglitke&gt;</span> until we are officially part of fedora we can make this easier by creating a shell script in contrib
<a name="l-205"></a><span class="tm">13:45:59</span><span class="nk"> &lt;aglitke&gt;</span> then to build rpms you would just run ./contrib/make-rpm.sh &lt;distro&gt;
<a name="l-206"></a><span class="tm">13:46:16</span><span class="nk"> &lt;AdamKingIT&gt;</span> if I understand the flow, it seems like a lot of steps. Can we not have a target to accomplish same?
<a name="l-207"></a><span class="tm">13:46:40</span><span class="nk"> &lt;alinefm&gt;</span> I also would like a single target to create the package
<a name="l-208"></a><span class="tm">13:46:44</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> Sure.  We can add targets in the top-level Makefile to call this script
<a name="l-209"></a><span class="tm">13:47:10</span><span class="nk"> &lt;aglitke&gt;</span> but eventually those would go away once packaging is taken over by the official packagers.
<a name="l-210"></a><span class="tm">13:47:42</span><span class="nk"> &lt;aglitke&gt;</span> if you look at qemu / libvirt / ... none of these projects have package building infrastructure that is used anymore.
<a name="l-211"></a><span class="tm">13:47:56</span><span class="nk"> &lt;aglitke&gt;</span> but we need to bridge the gap
<a name="l-212"></a><span class="tm">13:48:36</span><span class="nk"> &lt;aglitke&gt;</span> So for now, we will make it easy to build packages but we will use the process that the distros themselves will eventually use.
<a name="l-213"></a><span class="tm">13:48:48</span><span class="nk"> &lt;aglitke&gt;</span> to make the transition easier
<a name="l-214"></a><span class="tm">13:48:51</span><span class="nk"> &lt;AdamKingIT&gt;</span> seems like its worth it during startup mode. Present the lowest barrier to contributing until we have enough momentum to be picked up by the distros
<a name="l-215"></a><span class="tm">13:49:13</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, got it
<a name="l-216"></a><span class="tm">13:49:20</span><span class="nk"> &lt;aglitke&gt;</span> I already have a good start on the scripts we'll need for this.
<a name="l-217"></a><span class="tm">13:49:27</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, I can help on that
<a name="l-218"></a><span class="tm">13:49:27</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> seems a manual configure in qemu
<a name="l-219"></a><span class="tm">13:49:28</span><span class="nk"> &lt;aglitke&gt;</span> Will submit as part of the next series.
<a name="l-220"></a><span class="tm">13:49:50</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, is it blocked for autotools scritps?
<a name="l-221"></a><span class="tm">13:50:09</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">alinefm:</span> Yeah.  you need the build infra in place first.
<a name="l-222"></a><span class="tm">13:50:17</span><span class="nk"> &lt;aglitke&gt;</span> I will send something out soon.
<a name="l-223"></a><span class="tm">13:50:36</span><span class="nk"> &lt;aglitke&gt;</span> Hope to squeeze it in today yet.
<a name="l-224"></a><span class="tm">13:50:50</span><span class="nk"> &lt;aglitke&gt;</span> ok... next topic (running out of time quickly!)
<a name="l-225"></a><span class="tm">13:50:54</span><span class="nk"> &lt;alinefm&gt;</span> aglitke, ok
<a name="l-226"></a><span class="tm">13:50:57</span><span class="nk"> &lt;aglitke&gt;</span> <span class="topic">#topic </span><span class="topicline">ISO Scanning</span>
<a name="l-227"></a><span class="tm">13:51:26</span><span class="nk"> &lt;aglitke&gt;</span> shaohef / hlwanghl: You guys submitted a poc for iso scanning some time ago
<a name="l-228"></a><span class="tm">13:51:51</span><span class="nk"> &lt;aglitke&gt;</span> I was wondering if you could rebase on top of the merged async tasks API.
<a name="l-229"></a><span class="tm">13:52:19</span><span class="nk"> &lt;aglitke&gt;</span> I think we have some design issues to work out with how it should work (especially the front ens)
<a name="l-230"></a><span class="tm">13:52:20</span><span class="nk"> &lt;hlwanghl&gt;</span> Let me check. It's about template creation?
<a name="l-231"></a><span class="tm">13:52:23</span><span class="nk"> &lt;aglitke&gt;</span> front end
<a name="l-232"></a><span class="tm">13:52:26</span><span class="nk"> &lt;shaohef&gt;</span> <span class="hi">aglitke:</span> sure.
<a name="l-233"></a><span class="tm">13:52:35</span><span class="nk"> &lt;royce&gt;</span> aglitke, its dingxin...
<a name="l-234"></a><span class="tm">13:52:42</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">hlwanghl:</span> yes, create multiple templates from a search for isos
<a name="l-235"></a><span class="tm">13:52:52</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> Oh sorry.  Bad memory.
<a name="l-236"></a><span class="tm">13:53:06</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">royce:</span> I think you also post something about ISO scanning?
<a name="l-237"></a><span class="tm">13:53:11</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">aglitke:</span> royce: I'll tell Xin
<a name="l-238"></a><span class="tm">13:53:23</span><span class="nk"> &lt;royce&gt;</span> aglitke, it works with previous design of expose /ISO
<a name="l-239"></a><span class="tm">13:53:24</span><span class="nk"> &lt;aglitke&gt;</span> We would like to use an asynctask to scan for isos and create templates
<a name="l-240"></a><span class="tm">13:53:35</span><span class="nk"> &lt;royce&gt;</span> I have already tested and rebased
<a name="l-241"></a><span class="tm">13:53:39</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> Yes, I am concerned about exposing /iso
<a name="l-242"></a><span class="tm">13:54:01</span><span class="nk"> &lt;aglitke&gt;</span> what are the rules for expiration of the ISOs collection?
<a name="l-243"></a><span class="tm">13:54:08</span><span class="nk"> &lt;aglitke&gt;</span> are iso images moved to a directory?
<a name="l-244"></a><span class="tm">13:54:13</span><span class="nk"> &lt;royce&gt;</span> I rebased with automatically template generating, front end seems not done
<a name="l-245"></a><span class="tm">13:54:45</span><span class="nk"> &lt;royce&gt;</span> As last time we decided not to expose /iso
<a name="l-246"></a><span class="tm">13:54:55</span><span class="nk"> &lt;aglitke&gt;</span> ok.
<a name="l-247"></a><span class="tm">13:55:12</span><span class="nk"> &lt;aglitke&gt;</span> so now templates will be created automatically from all found isos
<a name="l-248"></a><span class="tm">13:55:12</span><span class="nk"> &lt;royce&gt;</span> I rebased this series to be scan and auto template generating
<a name="l-249"></a><span class="tm">13:55:15</span><span class="nk"> &lt;aglitke&gt;</span> ok
<a name="l-250"></a><span class="tm">13:55:17</span><span class="nk"> &lt;hlwanghl&gt;</span> <span class="hi">royce:</span> Then you can work with Xin about that. I remember Xin had code dealing with it.
<a name="l-251"></a><span class="tm">13:55:37</span><span class="nk"> &lt;aglitke&gt;</span> The next issue is to decide how the user can manage all of the newly created templates.
<a name="l-252"></a><span class="tm">13:55:57</span><span class="nk"> &lt;AdamKingIT&gt;</span> Getting this working will be better than not having it, but I am less comfortable with the autogeneration without user input as we had mocked earlier
<a name="l-253"></a><span class="tm">13:55:57</span><span class="nk"> &lt;aglitke&gt;</span> Maybe they want an intermediate step where then can select the templates that they would like to keep
<a name="l-254"></a><span class="tm">13:56:02</span><span class="nk"> &lt;royce&gt;</span> I discussed with dingxin this Monday, I can work with him if guys agree with these design
<a name="l-255"></a><span class="tm">13:57:16</span><span class="nk"> &lt;royce&gt;</span> aglitke, and dingxin and I really think for single iso the input of full path is painfull...
<a name="l-256"></a><span class="tm">13:57:20</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">aglitke:</span>  +1,  we should manage the automatically created templates and mark the necessary ones.
<a name="l-257"></a><span class="tm">13:57:43</span><span class="nk"> &lt;aglitke&gt;</span> I am not sure what the best way to converge on an API design is.
<a name="l-258"></a><span class="tm">13:58:02</span><span class="nk"> &lt;aglitke&gt;</span> I can think of a way to handle /isos collections as well but I am not sure if I want to do it.
<a name="l-259"></a><span class="tm">13:58:07</span><span class="nk"> &lt;AdamKingIT&gt;</span> I prefer the intermediate step as well. It will require some "progress" feedback  to the user though
<a name="l-260"></a><span class="tm">13:58:13</span><span class="nk"> &lt;sming&gt;</span> <span class="hi">royce:</span> agree.  I like to have a file browser.
<a name="l-261"></a><span class="tm">13:58:31</span><span class="nk"> &lt;aglitke&gt;</span> file browsers can reveal too much information about the internals of the server
<a name="l-262"></a><span class="tm">13:58:36</span><span class="nk"> &lt;aglitke&gt;</span> a scan is better
<a name="l-263"></a><span class="tm">13:58:45</span><span class="nk"> &lt;AdamKingIT&gt;</span> There are a couple places where a 'file browser' motif through the browser would be handy, including this
<a name="l-264"></a><span class="tm">13:59:00</span><span class="nk"> &lt;royce&gt;</span> If taged as necessary, it means newly created template are deleted imediately...
<a name="l-265"></a><span class="tm">13:59:14</span><span class="nk"> &lt;alinefm&gt;</span> file browser is useful and the admin knows which iso he/she would like to include
<a name="l-266"></a><span class="tm">13:59:29</span><span class="nk"> &lt;royce&gt;</span> necessary/unnecessary
<a name="l-267"></a><span class="tm">13:59:30</span><span class="nk"> &lt;alinefm&gt;</span> if it is only one/two isos why yse san?
<a name="l-268"></a><span class="tm">14:00:04</span><span class="nk"> &lt;AdamKingIT&gt;</span> the 'file browser' could be used to select a specific dir, to scope the scan as well
<a name="l-269"></a><span class="tm">14:00:47</span><span class="nk"> &lt;aglitke&gt;</span> I am trying to think of a RESTful way to expose a directory hierarchy
<a name="l-270"></a><span class="tm">14:00:56</span><span class="nk"> &lt;AdamKingIT&gt;</span> obvious negative being the complication of dealing with all the permissions
<a name="l-271"></a><span class="tm">14:01:18</span><span class="nk"> &lt;AdamKingIT&gt;</span> Have you used GSA tools?
<a name="l-272"></a><span class="tm">14:01:19</span><span class="nk"> &lt;aglitke&gt;</span> Yes, it's a potential security nightmare
<a name="l-273"></a><span class="tm">14:01:28</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">AdamKingIT:</span> yes
<a name="l-274"></a><span class="tm">14:01:47</span><span class="nk"> &lt;royce&gt;</span> and will you pls review my patchset about scan? aglitke?
<a name="l-275"></a><span class="tm">14:01:58</span><span class="nk"> &lt;aglitke&gt;</span> <span class="hi">royce:</span> sure
<a name="l-276"></a><span class="tm">14:02:32</span><span class="nk"> &lt;royce&gt;</span> after that I can work with front end to make it work~
<a name="l-277"></a><span class="tm">14:02:36</span><span class="nk"> &lt;aglitke&gt;</span> How should we have a discussion about the frontend design for approving found isos?
<a name="l-278"></a><span class="tm">14:03:04</span><span class="nk"> &lt;AdamKingIT&gt;</span> There is a design mockup posted on the community. comments?
<a name="l-279"></a><span class="tm">14:03:07</span><span class="nk"> &lt;aglitke&gt;</span> I think we need to agree on an API before we waste too much time writing throw-away implementations.
<a name="l-280"></a><span class="tm">14:03:17</span><span class="nk"> &lt;aglitke&gt;</span> Is that public
<a name="l-281"></a><span class="tm">14:03:31</span><span class="nk"> &lt;royce&gt;</span> absolutely, aglitke
<a name="l-282"></a><span class="tm">14:03:53</span><span class="nk"> &lt;AdamKingIT&gt;</span> n, though it will get more public this week if not public public.
<a name="l-283"></a><span class="tm">14:04:07</span><span class="nk"> &lt;aglitke&gt;</span> Ok, then we can not use it for the discussion
<a name="l-284"></a><span class="tm">14:04:35</span><span class="nk"> &lt;aglitke&gt;</span> If it can be posted in a wiki page on github, then we could try to start there.
<a name="l-285"></a><span class="tm">14:04:53</span><span class="nk"> &lt;royce&gt;</span> the mock is based on exposing /iso, by the way...
<a name="l-286"></a><span class="tm">14:05:16</span><span class="nk"> &lt;aglitke&gt;</span> alright... we have reached the top of the hour now.  thanks everyone
<a name="l-287"></a><span class="tm">14:05:20</span><span class="nk"> &lt;aglitke&gt;</span> <span class="cmd">#endmeeting</span><span class="cmdline"></span></pre>
</body></html>
